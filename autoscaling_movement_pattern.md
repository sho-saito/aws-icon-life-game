# AutoScaling Movement Pattern

## 概要

AutoScalingアイコンは、AWSのAuto Scalingサービスの特性を表現する動きパターンを実装しています。Auto Scalingは、需要に応じてEC2インスタンスの数を自動的に調整するサービスであり、この特性を視覚的に表現するために、以下のような動きを実装しています：

1. EC2インスタンスの集団を監視する動き
2. 需要（EC2の数）に応じてサイズを変化させる動き
3. スケールアップ/ダウン時の特徴的な動き

## 実装の詳細

### 状態ベースの動作

AutoScalingアイコンは、以下の3つの状態を持ちます：

1. **モニタリング状態（monitoring）**
   - EC2インスタンスの集団を監視する動き
   - EC2の集団に向かって移動する傾向がある
   - 定期的に周囲のEC2の数を確認し、スケーリング判断を行う

2. **スケールアップ状態（scaling_up）**
   - EC2の数が多い場合に発生
   - アイコンのサイズが徐々に大きくなる（最大50%増）
   - 高速でEC2に接近する動き

3. **スケールダウン状態（scaling_down）**
   - EC2の数が少ない場合に発生
   - アイコンのサイズが徐々に小さくなる（最大30%減）
   - EC2から離れる動き

### 特徴的な動き

#### モニタリング状態

- **EC2の監視**: EC2の集団を見つけると、その方向に引き寄せられる
- **監視範囲**: 半径150ピクセル内のEC2を監視
- **方向転換**: 3%の確率でランダムな方向に転換（監視パターンを表現）
- **速度変化**: 1.5〜2.2の範囲でランダムに変化（監視の活発さを表現）

#### スケールアップ状態

- **サイズ変化**: 徐々にサイズが大きくなる（キャパシティ増加を表現）
- **高速移動**: 速度3.0で素早くEC2に接近（即応性を表現）
- **持続時間**: 1.5〜2.5秒間継続（スケーリング処理の時間を表現）
- **クールダウン**: スケーリング後、3〜5秒間のクールダウン（連続スケーリングの防止を表現）

#### スケールダウン状態

- **サイズ変化**: 徐々にサイズが小さくなる（キャパシティ減少を表現）
- **中速移動**: 速度2.0でEC2から離れる（慎重なスケールダウンを表現）
- **持続時間**: 1.5〜2.5秒間継続（スケーリング処理の時間を表現）
- **クールダウン**: スケーリング後、3〜5秒間のクールダウン（連続スケーリングの防止を表現）

## 実装の意図

- **監視と反応**: Auto Scalingの「監視して反応する」特性を、EC2の集団を監視する動きで表現
- **動的なスケーリング**: 「需要に応じたスケーリング」を、サイズの変化で視覚的に表現
- **EC2との関係**: Auto ScalingとEC2の密接な関係を、EC2の集団に向かう/離れる動きで表現
- **即応性と慎重さ**: スケールアップの即応性とスケールダウンの慎重さを、異なる速度で表現
- **クールダウン期間**: 実際のAuto Scalingにおけるクールダウン期間を、状態遷移の制限で表現

## 相互作用

- **EC2との相互作用**: EC2の数に応じてスケーリング判断を行う
- **依存関係**: AutoScalingはEC2に依存する関係として実装
- **視覚的フィードバック**: スケーリング状態をサイズ変化で視覚的に表現

この動きパターンにより、AWSのAuto Scalingサービスの「需要に応じた動的なスケーリング」という特性を直感的に理解できるようになっています。